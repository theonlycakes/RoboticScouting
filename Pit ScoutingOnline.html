<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Team 7414 Pit Scouting</title>
<meta name="viewport" content="width=device-width, initial-scale=1" /> 	
<style>
	body {
		background-color: white;
	}
	h1 {
		color: black;
	}
	p {
		font-weight: bold;
		color: black;
	}
	form {
		font-weight: bold;
	}
</style>	
</head>

<body>
	<h1>Perkiomen Valley Robotics</h1>
	<!-- form information -->
	<p>Team Number</p>
		<input type="number" id="teamNum">
	<p>Number of Balls the Robot can hold</p>
		<input type="number" id="ballsHold">
	<p>Can the Robot hang</p>
	<form name="Autonomous">
		<input type="radio" id="Autonomous" name="auto" value="1"> Yes <br>
		<input type="radio" id="Autonomous1" name="auto" value="0"> No 
	</form>
	<p>Robot Weight (In lbs)</p>				
		<input type="number" id="robotWeight">
	<p>Other Info</p>
	<textarea id="teamInfo" rows="8" cols="50"></textarea>

	<br><br>
		<form action="upload.php" method="post">
	<input type="text" id="fileNames" name="name" value="0" hidden="true">
	<input type="text" id="fileDatas" name="data" value="1" hidden="true">
		<input type="submit" onClick="saveFileOnline()" name="submit">
	</form>
</body>
	<script>
		let saveFileOnline = () => {
			
			const auto = document.Autonomous.elements["auto"];
			
			//concatenates all the variables together
			let data = teamNum.value + "," + ballsHold.value + "," + auto.value + "," + robotWeight.value + "," + teamInfo.value;
			
			//makes the file name 
			//should be unique for every match 
			let fileName = "2020_" + teamNum.value + "_Pit";
			//all this is magic that saves the file
			//don't touch
			const textToBLOB = new Blob([data], { type: 'text/plain' });
        	const sFileName = fileName + ".csv";
			
			fileNames.value = sFileName;
			fileDatas.value = data;
		}
	</script>
</html>